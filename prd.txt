
Product Requirement Document

# ðŸ“‹ KIN SERVICES - PRODUCT REQUIREMENT DOCUMENT (PRD)
Version: 1.0  
Date: 2026  
Auteur: Agent Mode  
Technologies: Next.js, React Native, Supabase, MapBox, Cloudinary  

---

## 1. APERÃ‡U DU PROJET

### 1.1 Objectif
DÃ©velopper une plateforme complÃ¨te (web + mobile) nommÃ©e "Kin Services" qui rÃ©pertorie tous les services publics de Kinshasa: services offerts aux communes, quartiers, zones de santÃ©, hÃ´pitaux, bureaux administratifs, avec informations dÃ©taillÃ©es (localisation (communes, quartiers, zones de santÃ©, addresses, coordonnees), documents requis, prix officiels, dÃ©lais, contacts, et autres a proposer...).

### 1.2 ProblÃ¨me rÃ©solu
Les Kinois perdent du temps et de l'argent Ã  chercher les bons services, ignorent les prix officiels (vulnÃ©rabilitÃ© Ã  la corruption), et n'ont pas d'information centralisÃ©e fiable.

### 1.3 Public cible
- Citoyens kinois (10-75 ans, possesseurs de smartphones Android principalement)
- ExpatriÃ©s/nouveaux arrivants cherchant Ã  s'orienter
- Administrations publiques (pour diffusion d'informations officielles)

---

## 2. FONCTIONNALITÃ‰S DÃ‰TAILLÃ‰ES

### 2.1 Onboarding (PremiÃ¨re utilisation)
| Ã‰cran | Ã‰lÃ©ments | DonnÃ©es collectÃ©es |
|-------|----------|---------------------|
| 1 - Bienvenue | Logo Kin Services, message d'accueil | - | (propose)
| 2 - Profil | Champs: Nom (optionnel), Ã‚ge (selecteur (peut etre c'est mieux de mettre les tranches d'age en 5 ans d'ecart)), Sexe (M/F), Province d'origine, Commune de rÃ©sidence | StockÃ©es localement (AsyncStorage) |
| 3 - PrÃ©fÃ©rences | Notifications (oui/non), ThÃ¨me (clair/sombre auto), Langue (FranÃ§ais/Lingala optionnel) | - |

### 2.2 Structure de navigation principale

```
Accueil
â”œâ”€â”€ Recherche rapide (barre de recherche globale)
â”œâ”€â”€ CatÃ©gories principales
â”‚   â”œâ”€â”€ Communes (24 communes)
â”‚   â”œâ”€â”€ Zones de SantÃ© (35 zones)
â”‚   â”œâ”€â”€ HÃ´pitaux & Cliniques ou Centres de Sante
â”‚   â”œâ”€â”€ Services Administratifs
â”‚   â””â”€â”€ Urgences
â”œâ”€â”€ Services rÃ©cents / populaires
â””â”€â”€ Alertes municipales (bandeau)

Carte (MapBox)
â”œâ”€â”€ Vue interactive avec tous les lieux
â”œâ”€â”€ Filtres par catÃ©gorie (icÃ´nes colorÃ©es)
â”œâ”€â”€ Recherche par zone
â””â”€â”€ "Autour de moi" (gÃ©olocalisation)

Favoris
â”œâ”€â”€ Services sauvegardÃ©s
â”œâ”€â”€ Recherches rÃ©centes
â””â”€â”€ Notifications personnalisÃ©es

Profil
â”œâ”€â”€ Mes informations (Ã¢ge, sexe, commune)
â”œâ”€â”€ Historique de recherche
â”œâ”€â”€ ParamÃ¨tres (notifications, thÃ¨me, langue)
â””â”€â”€ Ã€ propos / Contact
```

### 2.3 Fiche dÃ©taillÃ©e d'un service

Chaque lieu/service aura une fiche contenant:

```
ðŸ“Œ [NOM DU SERVICE]
ðŸ“ [Adresse prÃ©cise + repÃ¨res]
â­ [Note moyenne] (basÃ©e sur avis utilisateurs)

INFORMATIONS GÃ‰NÃ‰RALES
â”œâ”€â”€ Commune: [Nom]
â”œâ”€â”€ Quartier: [Nom]
â”œâ”€â”€ Zone de santÃ©: [Nom]
â”œâ”€â”€ Horaires: [Lun-Ven: 8h-16h, Sam: 8h-12h]
â”œâ”€â”€ TÃ©lÃ©phone: [NumÃ©ro(s)]
â””â”€â”€ Site web: [URL si disponible]

SERVICES DISPONIBLES
â””â”€â”€ Liste dÃ©roulante par catÃ©gorie:

[CATÃ‰GORIE: Ã‰TAT CIVIL]
â”œâ”€â”€ Carte d'identitÃ©
â”‚   â”œâ”€â”€ Documents requis: [liste dÃ©taillÃ©e]
â”‚   â”œâ”€â”€ Prix officiel: [montant en FC]
â”‚   â”œâ”€â”€ DÃ©lai: [ex: 48h]
â”‚   â””â”€â”€ ProcÃ©dure: [Ã©tapes numÃ©rotÃ©es]
â”œâ”€â”€ Casier judiciaire
â”‚   â”œâ”€â”€ Documents requis: [liste]
â”‚   â”œâ”€â”€ Prix: [montant]
â”‚   â””â”€â”€ DÃ©lai: [ex: 72h]
â””â”€â”€ Acte de naissance
    â””â”€â”€ [...]

[CATÃ‰GORIE: SANTÃ‰]
â”œâ”€â”€ DÃ©pistage VIH
â”‚   â”œâ”€â”€ Prix: Gratuit / [montant]
â”‚   â”œâ”€â”€ Horaires spÃ©cifiques: [si diffÃ©rents]
â”‚   â””â”€â”€ Contact prÃ©alable: [oui/non]
â”œâ”€â”€ Vaccination
â””â”€â”€ Consultation prÃ©natale

AVIS UTILISATEURS
â”œâ”€â”€ [Ã‰toiles] "TrÃ¨s bon accueil" - Jean, 02/2026
â”œâ”€â”€ [Ã‰toiles] "Frais corrects" - Marie, 01/2026
â””â”€â”€ Bouton "Ajouter un avis"

ACTIONS
ðŸ”„ Signaler une information erronÃ©e
â­ Ajouter aux favoris
ðŸ—ºï¸ Obtenir l'itinÃ©raire (ouvre Google Maps/MapBox)
ðŸ“± Partager cette fiche
```

au fait l'idee c'est une application du genre "ou trouver le service". donc l'utilisateur peut taper sur la base des recherche "moustiquaire" ou "acte de naissance", l'application va l'orienter ou il peut trouver les centres de sante qui distribue les moustiquaires ou les lieux on peut obtenir un acte de naissance, pres de sois, montrer l'addresse de la commune sur une carte mapbox, les details et etapes pour avoir le document ...

---

## 3. BASE DE DONNÃ‰ES (SUPABASE)

### 3.1 proposition SchÃ©ma de donnÃ©es (tu peux modifier selon les besoins)

```sql
-- Table: communes
CREATE TABLE communes (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  name VARCHAR(100) NOT NULL,
  description TEXT,
  latitude DECIMAL(10,8),
  longitude DECIMAL(11,8),
  created_at TIMESTAMP DEFAULT NOW()
);

-- Table: quartiers
CREATE TABLE quartiers (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  commune_id UUID REFERENCES communes(id) ON DELETE CASCADE,
  name VARCHAR(100) NOT NULL,
  latitude DECIMAL(10,8),
  longitude DECIMAL(11,8)
);

-- Table: zones_sante
CREATE TABLE zones_sante (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  name VARCHAR(100) NOT NULL,
  description TEXT,
  commune_responsable VARCHAR(100), -- Commune oÃ¹ se trouve le bureau
  latitude DECIMAL(10,8),
  longitude DECIMAL(11,8)
);

-- Table: lieux (hÃ´pitaux, bureaux, services)
CREATE TABLE lieux (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  nom VARCHAR(200) NOT NULL,
  type VARCHAR(50) CHECK (type IN ('hopital', 'clinique', 'administration', 'mairie', 'commissariat', 'autre')),
  commune_id UUID REFERENCES communes(id),
  quartier_id UUID REFERENCES quartiers(id),
  zone_sante_id UUID REFERENCES zones_sante(id),
  adresse TEXT,
  reperes TEXT, -- "Ã€ cÃ´tÃ© de l'INPP"
  telephone VARCHAR(50),
  telephone_2 VARCHAR(50),
  email VARCHAR(100),
  site_web VARCHAR(200),
  horaires JSONB, -- Stockage flexible des horaires
  latitude DECIMAL(10,8),
  longitude DECIMAL(11,8),
  photos TEXT[], -- URLs Cloudinary
  verified BOOLEAN DEFAULT FALSE, -- Information vÃ©rifiÃ©e?
  created_by UUID REFERENCES auth.users(id),
  updated_at TIMESTAMP DEFAULT NOW()
);

-- Table: services_proposes
CREATE TABLE services_proposes (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  lieu_id UUID REFERENCES lieux(id) ON DELETE CASCADE,
  categorie VARCHAR(50) CHECK (categorie IN ('etat_civil', 'sante', 'justice', 'education', 'impots', 'urgence', 'autre')),
  nom_service VARCHAR(200) NOT NULL,
  description TEXT,
  documents_requis TEXT[], -- Liste de documents
  prix_officiel DECIMAL(10,2), -- En Francs Congolais
  devise VARCHAR(10) DEFAULT 'FC',
  delai VARCHAR(100), -- "48h", "3 jours ouvrables"
  procedure TEXT, -- Description Ã©tape par Ã©tape
  conditions_particulieres TEXT
);

-- Table: avis_utilisateurs
CREATE TABLE avis_utilisateurs (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  lieu_id UUID REFERENCES lieux(id) ON DELETE CASCADE,
  user_id UUID REFERENCES auth.users(id),
  note INTEGER CHECK (note >= 1 AND note <= 5),
  commentaire TEXT,
  date_experience DATE,
  created_at TIMESTAMP DEFAULT NOW()
);

-- Table: signalements
CREATE TABLE signalements (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  lieu_id UUID REFERENCES lieux(id),
  type VARCHAR(50) CHECK (type IN ('info_erronnee', 'corruption', 'ferme', 'autre')),
  description TEXT,
  user_id UUID REFERENCES auth.users(id),
  traite BOOLEAN DEFAULT FALSE,
  created_at TIMESTAMP DEFAULT NOW()
);
```

### 3.2 Configuration Supabase (DÃ©jÃ  prÃªte!)

```javascript
// .env.local (web) / .env (mobile)
NEXT_PUBLIC_SUPABASE_URL=https://jrscqqgwwvhflzpgfohj.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Impyc2NxcWd3d3ZoZmx6cGdmb2hqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzIwMzMzMjEsImV4cCI6MjA4NzYwOTMyMX0.QzGXSTeVwd6UfLA9hW4MU65xZWPWrca9Rmbdfncltw4
```

---

## 4. CONFIGURATION DES SERVICES EXTERNES

### 4.1 MapBox (Cartes)

```javascript
// Configuration MapBox
const mapboxToken = process.env.NEXT_PUBLIC_MAPBOX_TOKEN; // Stored in .env.local

// Styles recommandÃ©s
- Rues: 'mapbox://styles/mapbox/streets-v12'
- Satellite: 'mapbox://styles/mapbox/satellite-streets-v12'
- Simple: 'mapbox://styles/mapbox/light-v11'
```

### 4.2 Cloudinary (Images)

```javascript
// Configuration Cloudinary
cloudinary: {
  cloudName: 'dsgizthan',
  apiKey: '882123922877593',
  apiSecret: 'MLPAtgZ5A4jeZaF6Q9nQ6pb3dMw',
  uploadPreset: 'kinshasa'
}

// Upload d'images
// Utiliser upload-preset "kinshasa" pour toutes les photos de lieux
```

### 4.3 Google (pour dÃ©ploiement App Store)

```
Compte: akili.digit@gmail.com
App-Specific Password: jiuj zgvh fqtf zyhl
App Name: Kinshasa
```

---

## 5. ARCHITECTURE DU PROJET (MONOREPO) (tu peux proposer une autre architecture s'il y a lieu)

```
kinservices/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ web/                          # Next.js 15+
â”‚   â”‚   â”œâ”€â”€ app/                       # App Router
â”‚   â”‚   â”‚   â”œâ”€â”€ (auth)/                # Routes auth (onboarding)
â”‚   â”‚   â”‚   â”œâ”€â”€ (main)/                # Routes principales
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ accueil/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ carte/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ favoris/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ profil/
â”‚   â”‚   â”‚   â””â”€â”€ api/                    # API routes (Next.js)
â”‚   â”‚   â”‚       â””â”€â”€ trpc/                # tRPC endpoints
â”‚   â”‚   â”œâ”€â”€ components/                  # Composants spÃ©cifiques web
â”‚   â”‚   â”œâ”€â”€ lib/                          # Utilitaires web
â”‚   â”‚   â”œâ”€â”€ public/
â”‚   â”‚   â”œâ”€â”€ styles/
â”‚   â”‚   â”œâ”€â”€ next.config.js
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â””â”€â”€ mobile/                          # React Native + Expo
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ app/                      # Navigation (Expo Router)
â”‚       â”‚   â”œâ”€â”€ components/                # Composants spÃ©cifiques mobile
â”‚       â”‚   â”œâ”€â”€ screens/                   # Ã‰crans
â”‚       â”‚   â”œâ”€â”€ hooks/                      # Custom hooks
â”‚       â”‚   â””â”€â”€ utils/                      # Utilitaires
â”‚       â”œâ”€â”€ assets/
â”‚       â”œâ”€â”€ app.json
â”‚       â””â”€â”€ package.json
â”‚
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ api/                              # tRPC router & types
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ routers/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ communes.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ lieux.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ services.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ avis.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ context.ts
â”‚   â”‚   â”‚   â””â”€â”€ trpc.ts
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â”œâ”€â”€ database/                          # Prisma schemas
â”‚   â”‚   â”œâ”€â”€ prisma/
â”‚   â”‚   â”‚   â””â”€â”€ schema.prisma
â”‚   â”‚   â”œâ”€â”€ migrations/
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â””â”€â”€ ui/                                 # Composants partagÃ©s
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ buttons/
â”‚       â”‚   â”œâ”€â”€ cards/
â”‚       â”‚   â”œâ”€â”€ forms/
â”‚       â”‚   â””â”€â”€ index.ts
â”‚       â””â”€â”€ package.json
â”‚
â”œâ”€â”€ turbo.json
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

---

## 6. DESIGN SYSTEM (Style guide)

### 6.1 Couleurs
```css
:root {
  / Palette principale /
  --primary: #0077BE;        / Bleu Congo (riviÃ¨re) /
  --primary-dark: #005A9E;
  --secondary: #FDB913;       / Jaune (soleil, Ã©nergie) /
  --accent: #CE1126;          / Rouge (pour alertes/urgences) /
  
  / Neutres /
  --background: #F5F7FA;
  --surface: #FFFFFF;
  --text-primary: #1A2B3C;
  --text-secondary: #546E7A;
  --border: #E0E7EF;
  
  / Statuts /
  --success: #2E7D32;
  --warning: #ED6C02;
  --error: #D32F2F;
  --info: #0288D1;
}
```

### 6.2 Typographie
```css
/ Inter (Google Fonts) pour lisibilitÃ© /
--font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;

/ Tailles /
--text-xs: 0.75rem;   / 12px /
--text-sm: 0.875rem;  / 14px /
--text-base: 1rem;    / 16px /
--text-lg: 1.125rem;  / 18px /
--text-xl: 1.25rem;   / 20px /
--text-2xl: 1.5rem;   / 24px /
```

### 6.3 Composants UI rÃ©utilisables

ServiceCard (utilisÃ© partout):
- Image/icÃ´ne catÃ©gorie
- Titre
- Commune
- Distance (si gÃ©olocalisÃ©)
- Bouton favoris
- Badge "VÃ©rifiÃ©" si administrateur confirmÃ©

SearchBar:
- Input avec icÃ´ne recherche
- Filtres rapides (catÃ©gories)
- Historique des recherches

BottomNavigation (mobile):
- Accueil
- Carte
- Favoris
- Profil

---

## 7. API ENDPOINTS (tRPC)

```typescript
// Routers principaux Ã  implÃ©menter

// CommuneRouter
- getCommunes(): Liste toutes les communes
- getCommuneById(id): DÃ©tail d'une commune
- getCommunesWithStats(): Communes + nombre de lieux

// QuartierRouter
- getQuartiersByCommune(communeId): Liste quartiers
- getQuartierDetails(id): DÃ©tail quartier

// ZoneSanteRouter
- getAllZones(): Toutes les zones de santÃ©
- getZoneWithServices(id): Zone + hÃ´pitaux/cliniques associÃ©s

// LieuRouter
- searchLieux(query, filters): Recherche avancÃ©e
- getLieuxByCommune(communeId, type?): Filtrage par commune
- getLieuxByZone(zoneId): Lieux dans zone de santÃ©
- getLieuDetails(id): Fiche complÃ¨te avec services associÃ©s
- getNearbyLieux(lat, lng, radius): Autour de moi

// ServiceRouter
- getServicesByLieu(lieuId): Tous services d'un lieu
- getServiceDetails(id): DÃ©tail service (documents, prix)
- searchServices(query): Recherche de services

// AvisRouter
- getAvisByLieu(lieuId): Tous avis
- addAvis(input): Nouvel avis (auth requis)
- updateAvis(id, input): Modifier avis

// SignalementRouter
- createSignalement(input): Signaler problÃ¨me (auth requis)
```

---

## 8. DÃ‰VELOPPEMENT PAS Ã€ PAS

### Phase 1: Setup 

```bash
# 1. Cloner le dÃ©pÃ´t
git clone https://github.com/bmwenyemali/kinshasa.git
cd kinshasa

# 2. Installer dÃ©pendances
npm install
npx turbo login

# 3. Configurer les variables d'environnement
cp apps/web/.env.example apps/web/.env.local
cp apps/mobile/.env.example apps/mobile/.env

# 4. Initialiser Supabase
npx supabase init
npx supabase link --project-ref jrscqqgwwvhflzpgfohj

# 5. Lancer les migrations Prisma
cd packages/database
npx prisma migrate dev --name init
```

### Phase 2: Base de donnÃ©es

- ImplÃ©menter les 24 communes de Kinshasa
- Ajouter les 35 zones de santÃ©
- CrÃ©er les types d'utilisateurs (anonyme, authentifiÃ©, admin)
- Configurer Row Level Security (RLS) dans Supabase

### Phase 3: API 

- ImplÃ©menter tous les routers tRPC
- Tester avec Postman/Insomnia
- Ajouter validation des entrÃ©es (Zod)

### Phase 4: Web App 

- Layout responsive (mobile-first)
- Page d'accueil avec recherche
- Pages dÃ©taillÃ©es pour chaque type de contenu
- IntÃ©gration MapBox
- Administration (CRUD pour les donnÃ©es)

### Phase 5: Mobile App 

- Onboarding screens
- Navigation avec Expo Router
- Ã‰crans principaux (adaptÃ©s du web)
- GÃ©olocalisation native
- Mode hors-ligne (cache)

### Phase 6: DÃ©ploiement 

- Web: `vercel --prod`
- Mobile Android: `eas build -p android --profile production`
- Mobile iOS: `eas build -p ios --profile production`

---

## 9. TESTS ET QUALITÃ‰

### Tests unitaires (Jest)
- Composants UI
- Utilitaires
- Validation des donnÃ©es

### Tests d'intÃ©gration
- API tRPC
- Base de donnÃ©es
- Authentication

### Tests end-to-end (Cypress/Detox)
- Parcours utilisateur complet
- Recherche de service
- Ajout aux favoris

---

## 10. COMMANDES UTILES POUR L'AGENT MODE

```bash
# DÃ©veloppement web
cd apps/web && npm run dev

# DÃ©veloppement mobile
cd apps/mobile && npx expo start

# GÃ©nÃ©rer types Prisma
cd packages/database && npx prisma generate

# Linter
npm run lint

# Build web
npm run build:web

# Build mobile
npm run build:mobile
```

---


INSTRUCTIONS:
1. Initialise le monorepo avec Turborepo
2. Configure Supabase avec les identifiants fournis
3. CrÃ©e les tables selon le schÃ©ma Prisma
4. ImplÃ©mente l'API tRPC complÃ¨te
5. DÃ©veloppe l'application web Next.js avec:
   - Page d'accueil avec recherche
   - Liste des communes
   - Fiches dÃ©taillÃ©es avec MapBox
   - Interface d'administration
6. DÃ©veloppe l'application mobile React Native avec:
   - Onboarding (Ã¢ge, sexe, commune)
   - Navigation par tabs
   - Ã‰cran carte avec MapBox
   - Favoris offline
7. Assure-toi que tout est type-safe
8. Utilise les tokens MapBox et Cloudinary fournis
9. Suis le design system dÃ©fini
10. Commence par la Phase 1 et progresse Ã©tape par Ã©tape

IMPORTANT: 
- Tous les identifiants sont dans le PRD
- Le dÃ©pÃ´t GitHub existe dÃ©jÃ : https://github.com/bmwenyemali/kinshasa.git
- RÃ©ponds en franÃ§ais (pour la communication)
- Ã‰cris le code en anglais (convention)
```

---

## 12. LIVRABLES FINAUX

1. Site web: https://kinshasa-services.vercel.app
2. Application mobile: 
   - Android: Google Play Store "Kin Services"
   - iOS: Apple App Store "Kin Services"
3. Documentation: README.md avec instructions d'installation
4. Backoffice: Interface d'administration pour gÃ©rer les donnÃ©es

---

J'ai mis l'image du logo et favicon de l'application dans le dossier
